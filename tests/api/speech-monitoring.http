### 语音识别性能监控API测试

### 1. 获取当前性能指标
GET http://localhost:18080/api/speech/monitoring/metrics
Content-Type: application/json

###

### 2. 获取历史性能数据（最近24小时）
GET http://localhost:18080/api/speech/monitoring/metrics/history?hours=24
Content-Type: application/json

###

### 3. 获取活跃告警
GET http://localhost:18080/api/speech/monitoring/alerts/active
Content-Type: application/json

###

### 4. 获取告警历史（最近12小时）
GET http://localhost:18080/api/speech/monitoring/alerts/history?hours=12
Content-Type: application/json

###

### 5. 获取告警统计
GET http://localhost:18080/api/speech/monitoring/alerts/statistics?hours=24
Content-Type: application/json

###

### 6. 获取系统健康状态
GET http://localhost:18080/api/speech/monitoring/health
Content-Type: application/json

###

### 7. 获取资源使用情况
GET http://localhost:18080/api/speech/monitoring/resources
Content-Type: application/json

###

### 8. 执行强制垃圾回收
POST http://localhost:18080/api/speech/monitoring/gc
Content-Type: application/json

###

### 9. 重置性能指标
POST http://localhost:18080/api/speech/monitoring/metrics/reset
Content-Type: application/json

###

### 10. 测试音频文件上传（触发性能监控）
POST http://localhost:18080/api/speech/recognize
Content-Type: multipart/form-data; boundary=boundary

--boundary
Content-Disposition: form-data; name="audio"; filename="test.wav"
Content-Type: audio/wav

< /Users/carol/develop/ai-roleplay/backend/roleplay-api/src/main/resources/hello_world_male_16k_16bit_mono.wav
--boundary
Content-Disposition: form-data; name="model"

fun-asr-realtime
--boundary
Content-Disposition: form-data; name="format"

wav
--boundary
Content-Disposition: form-data; name="sampleRate"

16000
--boundary--

###

### 11. 测试大文件上传（触发文件大小验证）
POST http://localhost:18080/api/speech/recognize
Content-Type: multipart/form-data; boundary=boundary

--boundary
Content-Disposition: form-data; name="audio"; filename="large_test.wav"
Content-Type: audio/wav

< /path/to/large/audio/file.wav
--boundary
Content-Disposition: form-data; name="format"

wav
--boundary--

###

### 12. 测试无效格式（触发格式验证告警）
POST http://localhost:18080/api/speech/recognize
Content-Type: multipart/form-data; boundary=boundary

--boundary
Content-Disposition: form-data; name="audio"; filename="test.txt"
Content-Type: text/plain

This is not an audio file
--boundary
Content-Disposition: form-data; name="format"

invalid_format
--boundary--

###
