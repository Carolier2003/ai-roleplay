<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ¶ˆæ¯æ ·å¼æµ‹è¯•</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8f9fa;
        }
        .test-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .test-title {
            font-size: 24px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 16px;
        }
        .message-bubble {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 18px;
            border-bottom-left-radius: 6px;
            padding: 12px 16px;
            margin: 16px 0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            max-width: 70%;
        }
        .test-content {
            max-width: none;
            break-words: break-words;
            font-size: 16px;
            line-height: 1.75;
            color: #1f2937;
            font-family: system-ui, sans-serif;
        }
        .instructions {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 20px;
        }
        .test-button {
            background: #1677ff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            margin-right: 12px;
            transition: background-color 0.2s ease;
        }
        .test-button:hover {
            background: #1366d9;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 class="test-title">ğŸ¨ AIæ¶ˆæ¯æ ·å¼æµ‹è¯•</h1>
        
        <div class="instructions">
            <h3 style="color: #1e40af; margin: 0 0 12px 0;">ğŸ“‹ æ–°çš„AIæ¶ˆæ¯æ ·å¼ç‰¹æ€§ï¼š</h3>
            <ul style="margin: 0; padding-left: 20px; color: #1e40af;">
                <li><strong>åŸºç¡€æ’ç‰ˆ</strong>ï¼š16pxå­—ä½“ï¼Œ1.75è¡Œé«˜ï¼Œsystem-uiå­—ä½“æ—</li>
                <li><strong>æ®µè½é—´è·</strong>ï¼šæ®µè½é—´æœ‰ç©ºè¡Œ (mb-4)</li>
                <li><strong>è¡Œå†…æ ¼å¼</strong>ï¼šç²—ä½“ã€æ–œä½“ã€è¡Œå†…ä»£ç ç²¾ç¡®æ ·å¼</li>
                <li><strong>ä»£ç å—</strong>ï¼šæ·±è‰²ä¸»é¢˜ + æ‚¬åœæ˜¾ç¤ºå¤åˆ¶æŒ‰é’®</li>
                <li><strong>åˆ—è¡¨</strong>ï¼šæœ‰åº/æ— åºåˆ—è¡¨ï¼Œæ­£ç¡®çš„ç¼©è¿›å’Œé—´è·</li>
                <li><strong>å¼•ç”¨</strong>ï¼šå·¦è¾¹æ¡† + æ–œä½“æ ·å¼</li>
                <li><strong>é“¾æ¥</strong>ï¼šè“è‰² + æ‚¬åœä¸‹åˆ’çº¿ + æ–°çª—å£æ‰“å¼€</li>
                <li><strong>æ·±è‰²æ¨¡å¼</strong>ï¼šæ‰€æœ‰å…ƒç´ æ”¯æŒ dark: å˜ä½“</li>
            </ul>
        </div>

        <button class="test-button" onclick="window.open('http://localhost:5173', '_blank')">
            ğŸš€ æµ‹è¯•å®é™…æ•ˆæœ
        </button>

        <button class="test-button" onclick="toggleDarkMode()">
            ğŸŒ™ åˆ‡æ¢æ·±è‰²æ¨¡å¼
        </button>

        <h2 style="margin-top: 32px; margin-bottom: 16px; color: #1f2937;">æ ·å¼é¢„è§ˆï¼š</h2>

        <div class="message-bubble">
            <div class="test-content" id="test-markdown">
                <!-- è¿™é‡Œä¼šåŠ¨æ€æ’å…¥æ¸²æŸ“çš„Markdownå†…å®¹ -->
            </div>
        </div>

        <div style="background: #f0fdf4; border: 1px solid #22c55e; border-radius: 8px; padding: 16px; margin-top: 20px;">
            <h3 style="color: #15803d; margin: 0 0 12px 0;">âœ… å®ç°çš„ç²¾ç¡®æ ·å¼ï¼š</h3>
            <div style="font-family: monospace; font-size: 12px; background: #1f2937; color: #f9fafb; padding: 12px; border-radius: 6px; overflow-x: auto;">
                <div>â€¢ æ®µè½: &lt;p class="mb-4 last:mb-0"&gt;</div>
                <div>â€¢ ç²—ä½“: &lt;strong class="font-semibold text-gray-800 dark:text-gray-100"&gt;</div>
                <div>â€¢ æ–œä½“: &lt;em class="italic text-gray-700 dark:text-gray-300"&gt;</div>
                <div>â€¢ è¡Œå†…ä»£ç : &lt;code class="px-1 py-0.5 rounded bg-gray-100 dark:bg-gray-800 text-sm font-mono text-indigo-600 dark:text-indigo-400"&gt;</div>
                <div>â€¢ ä»£ç å—: &lt;pre class="language-xxx block p-4 rounded-lg bg-gray-900 text-gray-100 overflow-x-auto"&gt;</div>
                <div>â€¢ æ— åºåˆ—è¡¨: &lt;ul class="list-disc pl-6 space-y-2"&gt;</div>
                <div>â€¢ æœ‰åºåˆ—è¡¨: &lt;ol class="list-decimal pl-6 space-y-2"&gt;</div>
                <div>â€¢ å¼•ç”¨: &lt;blockquote class="border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic text-gray-600 dark:text-gray-400"&gt;</div>
                <div>â€¢ é“¾æ¥: &lt;a class="text-indigo-600 dark:text-indigo-400 hover:underline" target="_blank"&gt;</div>
                <div>â€¢ åˆ†å‰²çº¿: &lt;hr class="my-6 border-gray-200 dark:border-gray-700"&gt;</div>
            </div>
        </div>
    </div>

    <script>
        // æµ‹è¯•ç”¨çš„Markdownå†…å®¹
        const testMarkdown = `è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚æ¯ä¸ªæ®µè½ä¹‹é—´ä¼šæœ‰é€‚å½“çš„é—´è·ã€‚

è¿™æ˜¯ç¬¬äºŒä¸ªæ®µè½ã€‚æ”¯æŒ **ç²—ä½“æ–‡æœ¬** å’Œ *æ–œä½“æ–‡æœ¬* ä»¥åŠ \`è¡Œå†…ä»£ç \`ã€‚

## æ ‡é¢˜ç¤ºä¾‹

### ä»£ç å—ç¤ºä¾‹

\`\`\`javascript
function greet(name) {
    console.log('Hello, ' + name + '!');
    return true;
}
\`\`\`

### åˆ—è¡¨ç¤ºä¾‹

æ— åºåˆ—è¡¨ï¼š
- ç¬¬ä¸€é¡¹
- ç¬¬äºŒé¡¹
- ç¬¬ä¸‰é¡¹

æœ‰åºåˆ—è¡¨ï¼š
1. é¦–å…ˆ
2. ç„¶å
3. æœ€å

### å¼•ç”¨ç¤ºä¾‹

> è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨å—ã€‚å®ƒçœ‹èµ·æ¥åº”è¯¥æ˜¯æ–œä½“ï¼Œå¹¶ä¸”æœ‰å·¦è¾¹æ¡†ã€‚

### é“¾æ¥ç¤ºä¾‹

[è®¿é—®GitHub](https://github.com) æˆ–è€…æŸ¥çœ‹ [æ–‡æ¡£](https://docs.example.com)ã€‚

---

è¿™æ˜¯ä¸€æ¡æ°´å¹³åˆ†å‰²çº¿ä¸Šæ–¹çš„å†…å®¹ã€‚`

        // ç®€å•çš„Markdownæ¸²æŸ“å™¨ï¼ˆç”¨äºé¢„è§ˆï¼‰
        function simpleMarkdownRender(markdown) {
            let html = markdown
                // æ®µè½
                .split('\n\n')
                .map(para => {
                    if (para.trim().startsWith('#')) {
                        const level = para.match(/^#+/)[0].length;
                        const text = para.replace(/^#+\s*/, '');
                        const headingClasses = {
                            1: 'text-2xl font-bold text-gray-900 dark:text-gray-100 mt-6 mb-4 first:mt-0',
                            2: 'text-xl font-semibold text-gray-900 dark:text-gray-100 mt-5 mb-3 first:mt-0',
                            3: 'text-lg font-semibold text-gray-900 dark:text-gray-100 mt-4 mb-2 first:mt-0'
                        };
                        const className = headingClasses[level] || headingClasses[3];
                        return `<h${level} class="${className}">${text}</h${level}>`;
                    } else if (para.trim().startsWith('```')) {
                        const lines = para.split('\n');
                        const language = lines[0].replace('```', '');
                        const code = lines.slice(1, -1).join('\n');
                        return `
                            <div class="relative group my-4">
                                <pre class="language-${language} block p-4 rounded-lg bg-gray-900 text-gray-100 overflow-x-auto">
                                    <code>${code}</code>
                                </pre>
                                <button class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-gray-700 hover:bg-gray-600 text-gray-200 px-2 py-1 rounded text-xs font-medium">
                                    Copy
                                </button>
                            </div>
                        `;
                    } else if (para.trim().startsWith('> ')) {
                        const text = para.replace(/^>\s*/, '');
                        return `<blockquote class="border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic text-gray-600 dark:text-gray-400 my-4">${text}</blockquote>`;
                    } else if (para.trim().startsWith('- ') || para.trim().match(/^\d+\.\s/)) {
                        const items = para.split('\n').map(line => {
                            const text = line.replace(/^[-\d+\.]\s*/, '');
                            return `<li class="leading-7">${text}</li>`;
                        }).join('');
                        const isOrdered = para.trim().match(/^\d+\.\s/);
                        const tag = isOrdered ? 'ol' : 'ul';
                        const listClass = isOrdered ? 'list-decimal pl-6 space-y-2 my-4' : 'list-disc pl-6 space-y-2 my-4';
                        return `<${tag} class="${listClass}">${items}</${tag}>`;
                    } else if (para.trim() === '---') {
                        return `<hr class="my-6 border-gray-200 dark:border-gray-700">`;
                    } else {
                        return `<p class="mb-4 last:mb-0">${para}</p>`;
                    }
                })
                .join('')
                // è¡Œå†…æ ¼å¼
                .replace(/\*\*(.*?)\*\*/g, '<strong class="font-semibold text-gray-800 dark:text-gray-100">$1</strong>')
                .replace(/\*(.*?)\*/g, '<em class="italic text-gray-700 dark:text-gray-300">$1</em>')
                .replace(/`(.*?)`/g, '<code class="px-1 py-0.5 rounded bg-gray-100 dark:bg-gray-800 text-sm font-mono text-indigo-600 dark:text-indigo-400">$1</code>')
                // é“¾æ¥
                .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" class="text-indigo-600 dark:text-indigo-400 hover:underline" target="_blank" rel="noopener">$1</a>');

            return html;
        }

        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            document.body.style.background = isDark ? '#1f2937' : '#f8f9fa';
            document.querySelector('.test-container').style.background = isDark ? '#374151' : 'white';
            document.querySelector('.test-container').style.color = isDark ? '#f9fafb' : '#1f2937';
            document.querySelector('.message-bubble').style.background = isDark ? '#374151' : 'white';
            document.querySelector('.message-bubble').style.borderColor = isDark ? '#4b5563' : '#e5e7eb';
            document.querySelector('.message-bubble').style.color = isDark ? '#f9fafb' : '#1f2937';
        }

        // é¡µé¢åŠ è½½æ—¶æ¸²æŸ“æµ‹è¯•å†…å®¹
        document.addEventListener('DOMContentLoaded', function() {
            const testElement = document.getElementById('test-markdown');
            testElement.innerHTML = simpleMarkdownRender(testMarkdown);
            console.log('ğŸ¨ AIæ¶ˆæ¯æ ·å¼æµ‹è¯•é¡µé¢å·²åŠ è½½');
            console.log('ğŸ“ æµ‹è¯•æ–°çš„æ’ç‰ˆæ•ˆæœå’ŒTailwind CSSæ ·å¼');
        });
    </script>
</body>
</html>
